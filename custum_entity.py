#!/usr/bin/env python
# coding: utf8
"""Example of training an additional entity type

This script shows how to add a new entity type to an existing pre-trained NER
model. To keep the example short and simple, only four sentences are provided
as examples. In practice, you'll need many more — a few hundred would be a
good start. You will also likely need to mix in examples of other entity
types, which might be obtained by running the entity recognizer over unlabelled
sentences, and adding their annotations to the training set.

The actual training is performed by looping over the examples, and calling
`nlp.entity.update()`. The `update()` method steps through the words of the
input. At each word, it makes a prediction. It then consults the annotations
provided on the GoldParse instance, to see whether it was right. If it was
wrong, it adjusts its weights so that the correct action will score higher
next time.

After training your model, you can save it to a directory. We recommend
wrapping models as Python packages, for ease of deployment.

For more details, see the documentation:
* Training: https://spacy.io/usage/training
* NER: https://spacy.io/usage/linguistic-features#named-entities

Compatible with: spaCy v2.0.0+
Last tested with: v2.1.0
"""
from __future__ import unicode_literals, print_function

import plac
import random
from pathlib import Path
import spacy
from spacy.util import minibatch, compounding


# new entity label
Author = "Author"
CaseNo = "CaseNo"
Petitioner = "Petitioner"
Respondent = "Respondent"
DOJ = "DOJ"
Bench = "Bench"
DOJR = "DOJR"
DOJD = "DOJD"
ThroughLawyer = "ThroughLawyer"
Judge = "Judge"
MainCite = "MainCite"
RespAdvocate = "RespAdvocate"
PetAdvocate = "PetAdvocate"
# training data
# Note: If you're using an existing model, make sure to mix in examples of
# other entity types that spaCy correctly recognized before. Otherwise, your
# model might learn the new type, but "forget" what it previously knew.
# https://explosion.ai/blog/pseudo-rehearsal-catastrophic-forgetting

TRAIN_DATA = [('Supreme Court of India\nOil & Natural Gas Corporation Ltd vs Saw Pipes Ltd on 17 April, 2003\nAuthor: Shah\nBench: M.B. Shah, Arun Kumar.\nCASE NO.:\nAppeal (civil) 7419 2001\nof 518\nPETITIONER:\nOil & Natural Gas Corporation Ltd.\nRESPONDENT:\nSAW Pipes Ltd.\nDATE OF JUDGMENT: 17/04/2003\nBENCH:\nM.B. SHAH & ARUN KUMAR.\nJUDGMENT:\nJ U D G M E N T Shah, J.\nCOURT\'S JURISDICTION UNDER SECTION 34 OF THE ARBITRATION AND CONCILIATION\nACT, 1966 Before dealing with the issues involved in this appeal, we would first decide the main\npoint in controversy, namely - the ambit and scope of Court\'s jurisdiction in case where award\npassed by the Arbitral Tribunal is challenged under Section 34 of the Arbitration and Conciliation\nAct, 1996 (hereinafter referred to as "the Act") as the decision in this appeal would depend upon the\nsaid finding. In other words - whether the Court would have jurisdiction under Section 34 of the Act\nto set aside an award passed by the Arbitral Tribunal which is patently illegal or in contravention of\nthe provisions of the Act or any other substantive law governing the parties or is against the terms of\nthe contract?\nLearned senior counsel Mr. Ashok Desai appearing for the appellant submitted that in case where\nthere is clear violation of Sections 28 to 31 of the Act or the terms of the Contract between the\nparties, the said award can be and is required to be set aside by the Court while exercising\njurisdiction under Section 34 of the Act.\nMr. Dushyant Dave, learned senior counsel appearing on behalf of respondent - company submitted\nto the contrary and contended that the Court\'s jurisdiction under Section 34 is limited and the\naward could be set aside mainly on the ground that the same is in conflict with the \'Public Policy of\nIndia\'. According to his submission, the phrase \'Public Policy of India\' cannot be interpreted to\nmean that in case of violation of some provisions of law, the Court can set aside the award.\nFor deciding this controversy, we would refer to the relevant part of Section 34 which reads as\nunder:-', {'entities': [(105, 134, 'Bench'), (177, 223, 'Petitioner'), (224, 250, 'Respondent'), (251, 279, 'DOJ'), (280, 310, 'Bench'), (135, 176, 'CaseNo')]}), ('Supreme Court of India\nMahendra Lal Jaini vs The State Of Uttar Pradesh And ... on 7 November, 1962\nEquivalent citations: 1963 AIR 1019, 1963 SCR Supl. (1) 912\nAuthor: K Wanchoo\nBench: Sinha, Bhuvneshwar P.(Cj), Gajendragadkar, P.B., Wanchoo, K.N., Gupta, K.C. Das, Shah,\nJ.C.\nPETITIONER:\nMAHENDRA LAL JAINI\nVs.\nRESPONDENT:\nTHE STATE OF UTTAR PRADESH AND OTHERS\nDATE OF JUDGMENT:\n07/11/1962\nBENCH:\nWANCHOO, K.N.\nBENCH:\nWANCHOO, K.N.\nSINHA, BHUVNESHWAR P.(CJ)\nGAJENDRAGADKAR, P.B.\nGUPTA, K.C. DAS\nSHAH, J.C.\nCITATION:\n1963 AIR 1019 1963 SCR Supl. (1) 912\nCITATOR INFO :\nRF 1964 SC 381 (53)\nD 1967 SC1480 (13,21)\nRF 1967 SC1643 (118)\nE 1968 SC 331 (12)\nRF 1972 SC2205 (26)\nRF 1974 SC1300 (35,41)\nRF 1979 SC 25 (35)\nR 1984 SC1260 (14A)\nR 1985 SC1622 (16)\nD 1988 SC1621 (4)\nACT:\nCompulsory acquisition--Permanent Lease-Statute declaring\ntransfer void-No provision for compensation-Statute, if\nprovides for compulsory acquisition--Constitutionality of-\nDoctrine of eclipse-If not applicable to post-Constitution\nstatutes-U.P. Land Tenures Regulationof Transfers) Act,\n1952 (U.P. 15 of 1952), s.3--Constitution of India Arts. 13,\n31-Constitution (Fourth Amendment)Act 1955.\nForest-Declaration as reserve forest-Statute providing for\ninterim control-Constitutionality of-Indian Forest Act, 1927\n(16 of 1927), Chs. II and V-Indian Forest (U.P Amendment', {'entities': [(178, 276, 'Bench'), (277, 307, 'Petitioner'), (312, 361, 'Respondent'), (362, 390, 'DOJ')]}), ('PETITIONER:\nSTATE OF HARYANA & ORS.\nVs.\nRESPONDENT:\nSMT. SANTRA\nDATE OF JUDGMENT: 24/04/2000\nBENCH:\nS.S.Ahmad, D.P.Wadhwa\nJUDGMENT:\nS. SAGHIR AHMAD, J. Leave granted. Medical\nNegligence plays its game in strange ways. Sometimes it\nplays with life; sometimes it gifts an "Unwanted Child" as\nin the instant case where the respondent, a poor labourer\nwoman, who already had many children and had opted for\nsterilisation, developed pregnancy and ultimately gave birth\nto a female child in spite of sterilisation operation which,\nobviously, had failed. Smt. Santra, the victim of the\nmedical negligence, filed a suit for recovery of Rs.2 lakhs\nas damages for medical negligence, which was decreed for a\nsum of Rs.54,000/- with interest at the rate of 12 per cent\nper annum from the date of institution of the suit till the\npayment of the decretal amount. Two appeals were filed\nagainst this decree in the court of District Judge, Gurgaon,\nwhich were disposed of by Addl. District Judge, Gurgaon, by\na common judgment dated 10.5.1999. Both the appeals - one\nfiled by the State of Haryana and the other by Smt. Santra\nwere dismissed. The second appeal filed by the State of\nHaryana was summarily dismissed by the Punjab & Haryana High\nCourt on 3.8.1999. It is in these circumstances that the\npresent Special Leave Petition has been filed in this court.\n"Sterilisation Scheme", admittedly, was launched by the\nHaryana Govt. and taking advantage of that scheme, Smt.\nSantra approached the Chief Medical Officer, Gurgaon, for\nher sterilisation in 1988. The sterilisation operation was\nperformed on her and a certificate to that effect was also\nissued to her on 4.2.1988 under the signatures of the\nMedical Officer, General Hospital, Gurgaon. Smt. Santra\nwas assured that full, complete and successful sterilisation\noperation had been performed upon her and she would not\nconceive a child in future. But despite the operation, she\nconceived. When she contacted the Chief Medical Officer and\nother Doctors of the General Hospital, Gurgaon, she was\ninformed that she was not pregnant. Two months later when\nthe pregnancy became apparent, she again approached those\nDoctors who then told her that her sterilisation operation\nwas not successful. Dr. Sushil Kumar Goyal, who was\nexamined as DW-2, stated that the operation related only to\nthe right Fallopian Tube and the left Fallopian Tube was not\ntouched, which indicates that â€˜complete sterlisationâ€™\noperation was not done. She requested for an abortion, but\nwas advised not to go in for abortion as the same would be\ndangerous to her life. She ultimtely gave birth to a female\nchild. Smt. Santra already had seven children and the\nbirth of a new child put her to unnecessary burden of\nrearing up the child as also all the expenses involved in', {'entities': [(0, 35, 'Petitioner'), (40, 63, 'Respondent'), (64, 92, 'DOJ'), (93, 121, 'Bench')]}), ("*             IN THE HIGH COURT OF DELHI AT NEW DELHI\n\n%                            Judgment Reserved on : 21st July, 2009\n                             Judgment Delivered on: August 27, 2009\n\n+                            CRL.A. 19/2007\n\n       RAKESH KUMAR & ORS.                ..... Appellants\n                Through: Mr. M.L.Yadav, Advocate\n\n                                    versus\n\n       STATE                                       ..... Respondent\n                      Through:      Ms. Richa Kapoor, Advocate\n\n                             CRL.A. 51/2007\n\n       SHARDA JAIN & ANR.                   ..... Appellants\n                Through: Mr. R.N.Mittal, Sr.Advocate with\n                          Mr. Tanveer A.Mir, Advocate and\n                          Mr. Manoj Kumar, Advocate\n\n                                    versus\n\n       STATE                                       ..... Respondent\n                      Through:      Ms. Richa Kapoor, Advocate\n\n                             CRL.A. 121/2007\n\n       PUSHPENDER                                     ..... Appellant\n               Through:             Mr. Rajpal Singh, Advocate\n\n                                    versus\n\n       STATE                                       ..... Respondent\n                      Through:      Ms. Richa Kapoor, Advocate\n\n                             CRL.A. 139/2007\n\n       ROSHAN SINGH                                    ..... Appellant\n                Through:            Mr. R.N.Mittal, Sr.Advocate with\n                                    Mr. Tanveer A.Mir, Advocate and\n                                    Mr. Ashutosh Bhardwaj, Advocate\n\n                                    versus\n\n       STATE                                         ..... Respondent\n\n    Crl.A.19, 51, 121, 139, 144 & 65/2007                     Page 1 of 183\n                        Through:      Ms. Richa Kapoor, Advocate\n\n                              CRL.A. 144/2007\n\n        RAJINDER @ RAJESH @ RAJU           ..... Appellant\n                 Through: Mr. Rakesh Kumar, Advocate\n\n                                     versus\n\n        STATE                                       ..... Respondent\n                       Through:      Ms. Richa Kapoor, Advocate\n\n                              CRL.A. 65/2007\n\n        NIRVIKAR @ DOCTOR                  ..... Appellant\n                 Through: Mr. D.B.Goswami, Advocate\n\n                                     versus\n\n        STATE                                       ..... Respondent\n                       Through:      Ms. Richa Kapoor, Advocate\n\n        CORAM:\n        HON'BLE MR. JUSTICE PRADEEP NANDRAJOG\n        HON'BLE MS. JUSTICE INDERMEET KAUR\n", {'entities': [(244, 295, 'Petitioner'), (574, 627, 'Petitioner'), (1026, 1088, 'Petitioner'), (1382, 1445, 'Petitioner'), (1963, 2014, 'Petitioner'), (2301, 2352, 'Petitioner'), (397, 457, 'Respondent'), (848, 908, 'Respondent'), (1204, 1264, 'Respondent'), (1702, 1765, 'Respondent'), (2121, 2182, 'Respondent'), (2459, 2519, 'Respondent'), (221, 235, 'CaseNo'), (551, 565, 'CaseNo'), (1001, 1017, 'CaseNo'), (1357, 1373, 'CaseNo'), (1939, 1954, 'CaseNo'), (2277, 2292, 'CaseNo'), (2608, 2645, 'Judge'), (2654, 2688, 'Judge')]}), ('Bombay High Court\nBhuboni Sahu vs The King on 17 February, 1949\nEquivalent citations: (1949) 51 BOMLR 955\nAuthor: J Beaumont\nBench: V Simon, Oaksey, Macdermott, M Nair, J Beaumont\nJUDGMENT John Beaumont, J.\n1. This is an appeal by special leave from the judgment and order of the High Court of Judicature at\nPatna dated September 19, 1947, dismissing an appeal against the judgment and order of the Court\nof the Sessions Judge of Ganjam-Puri dated July 28, 1947, whereby the appellant was convicted of\nthe offence of murder under Section 302/34 of the Indian Penal Code and sentenced to death. At the\nconclusion of the arguments their Lordships announced that they would humbly advise His Majesty\nthat the appeal be allowed and would state their reasons later. This they now proceed to do.\n2. It is not in dispute that on October II, 1946, one Kalia Behara was brutally murdered at a place\nbetween Berhampur, where he lived and carried on business as a jutka driver, and Golantra, to\nwhich he was driving with passengers in his Jutka. It is unnecessary to refer to the details of the\nmurder; though it may be noted that the motive atrributed to the appellant was that he is a relation\nof accused Nos. 1 and 2 who are said to have been on terms of enmity with the deceased, but both of\nwhom were acquitted of the murder. Eight persons were charged with the offence and tried by the\nSessions Judge of (Jajnam-Puri. The learned Judge convicted six of the accused including the\nappellant, who was accused No. 7, and one Trinath, who was accused No. 5. The six convicted\npersons appealed to the High Court at Patna. Two of the appeals were allowed, but the other\nappeals, including those of the appellant and Trinath, were dismissed. The only question which\narises on this appeal is whether there was evidence upon which the appellant could be properly\nconvicted.\n3. The evidence against the appellant consisted of (a) the evidence of Kholli Behera who had taken\npart, in the murder and had become an approver; (b) the confession of Trinath recorded under\nSection 164 of the Code of Criminal Procedure which implicated both himself and the appellant in\nthe murder, but which, was retracted in the Sessions Court; and (c) the recovery of a loin cloth\nidentified as the one which the deceased was wearing when he was assaulted, and a khanti badi, or\ninstrument for cutting grass, in circumstances alleged to implicate the appellant.\n4. The law in India relating to the evidence of accomplices stands thus :-Even before the passing of\nthe Indian Evidence Act, 1872, it had been held by a Full Bench of the High Court of Calcutta in R. v.\nElahee Buksh (1866) 5 W.R. (Cr) 80 that the law relating to accomplice evidence was the same in\nIndia as in England. Then came the Indian Evidence Act which by Section 133 enacts that An\naccomplice shall be a competent witness against an accused person; and a conviction is not illegal\nmerely because it proceeds upon the uncorroborated testimony of an accomplice.\nIllustration (b) to Section 114 of the Indian Evidence Act, however, provides that The Court may\npresume that an accomplice is unworthy of credit, unless he is corroborated in material particulars.', {'entities': [(18, 63, 'MainCite'), (125, 179, 'Bench')]}), ("Kerala High Court\nAli Jishan @ Jishan Chawhan vs State Of Kerala on 26 November, 2009\nIN THE HIGH COURT OF KERALA AT ERNAKULAM\nCRL.A.No. 2137 of 2005()\n1. ALI JISHAN @ JISHAN CHAWHAN,\n... Petitioner\nVs\n1. STATE OF KERALA,\n... Respondent\n2. MANOJ KUMAR,\nFor Petitioner :SRI.P.VIJAYA BHANU\nFor Respondent :PUBLIC PROSECUTOR\nThe Hon'ble MR. Justice K.BALAKRISHNAN NAIR\nThe Hon'ble MR. Justice P.BHAVADASAN\nDated :26/11/2009\nO R D E R\nK. BALAKRISHNAN NAIR & P. BHAVADASAN, JJ.\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nCrl. Appeal Nos. 2137 & 2223 of 2005\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nDated this the 26th day of November, 2009.\nJUDGMENT\nBhavadasan, J, Two persons, the appellants in these criminal appeals, were sought to be prosecuted\nfor the offences punishable under Sections 394, 302, 201 and 120B read with Section 34 of the\nIndian Penal Code. They were found guilty of the offences alleged against them. They were therefore\nconvicted and sentenced to suffer imprisonment for life for the offences punishable under Sections\n120B and 302 read with Section 34 of the Indian Penal Code. They were also sentenced to suffer\nrigorous imprisonment for seven years for the offences punishable under Sections 120B and 394\nread with Section 34 of the Indian Penal Code. They were also sentenced to undergo rigorous", {'entities': [(127, 151, 'CaseNo'), (152, 198, 'Petitioner'), (202, 236, 'Respondent'), (288, 321, 'Respondent'), (253, 287, 'Petitioner'), (322, 365, 'Judge'), (366, 402, 'Judge'), (539, 575, 'CaseNo'), (634, 676, 'DOJ')]}), ('State Of Gujarat vs Bharwad Jakshibhai Nagribhai And ... on 10 March, 1989\nEquivalent citations: 1990 CriLJ 2531\nAuthor: M Shah\nBench: M Shah, B Kapadia\nJUDGMENT M.B. Shah, J.\n\n1. Against the acquittal order dated 6th March 1982 passed by the Additional Sessions Judge, Ahmedabad at Narol, in Sessions Case No. 114/81, the State has filed this appeal.\n\n2. At the time of admission of this appeal the Court admitted the appeal only against accused Nos. 1, 2, 5, 7, 9, 10 and 13. Against rest of the accused the appeal was dismissed.\n\n3. In all 15 persons of Bharwad community were charged for the offences punishable under Sections 302, 307, 148 and 149 of the Indian Penal Code. It is the prosecution version that on 2nd June 1981 at about 6 p.m. the accused with other members of the Bharwad community formed an unlawful assembly with the common object to commit murders and cause grievous hurt or hurt to the members of Patel community and of committing riots in Bavla town, taluka Dholka, District Ahmedabad. They were armed with deadly weapons like sticks, dharias and Farsi etc. They came out from the Bharwad locality (Bharwad Vas), went towards the north i.e. the bazar shouting to beat and kill Patels at sight. It is the prosecution version that in Dec. 1980 election of the Bavle Nagar panchayat was mainly contested by the members of Bharwad community and Patel community. Only 2 members of Bharwad community got elected and the members of the Patel community were elected on remaining seats. Because of this, the relations between these communities were bitter.\n\n4. It is the prosecution version that in succession the members of unlawful assembly attacked 3 persons:\n\n(1) First attack was on Patel Govindhbhai Girdharbhai. He was attacked along with other members by accused No. 1 by ironshod stick, accused No. 2 by dharia and accused Nos. 5 and 10 by sticks. Because of injuries Patel Govindhbhai Girdharbhai expired on 3rd June 1981 i.e. on the next day.\n\n(2) Thereafter members of the unlawful assembly attacked witness Arvindkumar Kanjibhai. He was attacked by accused Nos. 5, 7, 9, 10 and 13. It is the say of the witness that accused No. 10 inflicted dharia blow while other accused inflicted stick blows. To save his life the witness entered the shop named "Janta Bidi Stores" owned by witness Bipinbhai Naranbhai.\n\n(3) The said members of the unlawful assembly proceeded further, went at Gayatri Milk Shop owned by Patel Vinubhai Keshav-lal, dragged him out of the shop, caused some damage to the shop and assaulted him. It is the say of this witness that along with other accused he was assaulted by accused Nos. 2, 5 and 13. Accused No. 2 gave a dharia blow, accused No. 5 gave a stick blow and accused No. 13 also gave a stick blow.', {'entities': [(128, 152, 'Bench'), (0, 74, 'MainCite')]}), ('Gujarat High Court\nRanjanben Maheshbhai Vasava vs State Of Gujarat on 18 March, 2019\nBench: J.B.Pardiwala, A.C. Rao\nR/CR.A/934/2018 CAV JUDGMENT\nIN THE HIGH COURT OF GUJARAT AT AHMEDABAD\nR/CRIMINAL APPEAL NO. 934 of 2018\nWith\nR/CRIMINAL APPEAL NO. 1342 of 2018\nFOR APPROVAL AND SIGNATURE:\nHONOURABLE MR.JUSTICE J.B.PARDIWALA\nand\nHONOURABLE MR.JUSTICE A.C. RAO\n==========================================================\n1 Whether Reporters of Local Papers may be allowed to Yes see the judgment ?\n2 To be referred to the Reporter or not ? Yes\n3 Whether their Lordships wish to see the fair copy of the No\njudgment ?\n4 Whether this case involves a substantial question of law No\nas to the interpretation of the Constitution of India or any order made thereunder ?\nCirculate this judgement in the subordinate judiciary.\n========================================================== RANJANBEN\nM A H E S H B H A I V A S A V A V e r s u s S T A T E O F G U J A R A T & 1 o t h e r ( s )\n========================================================== Appearance:\nMS SHILPA R SHAH(796) for the Appellant(s) No. 1 HCLS COMMITTEE(4998) for the\nO p p o n e n t ( s ) / R e s p o n d e n t ( s ) N o . 2 M A D A N S I N G H O B A R O D ( 3 1 2 8 ) f o r t h e\nOpponent(s)/Respondent(s) No. 2 MR. H. K. PATEL, ADDL. PUBLIC PROSECUTOR(2) for the\n========================================================== CORAM:\nHONOURABLE MR.JUSTICE J.B.PARDIWALA and HONOURABLE MR.JUSTICE A.C. RAO Date :\n12.03.2019 & 18/03/2019 CAV JUDGMENT (PER : HONOURABLE MR.JUSTICE\nJ.B.PARDIWALA)\n1. As both the captioned appeals are against the selfsame judgment and order of acquittal passed by\nthe Trial Court, those were heard analogously and are being disposed of by this common judgment', {'entities': [(19, 84, 'MainCite'), (85, 115, 'Bench'), (116, 132, 'CaseNo'), (289, 324, 'Judge'), (329, 359, 'Judge')]}), ("Himachal Pradesh High Court\nRavi Kumar vs State Of Himachal Pradesh And ... on 19 March, 2019\nBench: Honourable Mr. Chauhan\nIN THE HIGH COURT OF HIMACHAL PRADESH, SHIMLA .\nCr. MMO No. 553 of 2018.\nDate of decision: 19th March, 2019.\nRavi Kumar .....Petitioner.\nVersus\nState of Himachal Pradesh and another ..... Respondents.\nCoram The Hon'ble Mr. Justice Tarlok Singh Chauhan, Judge.\nWhether approved for reporting?1 No\nFor the Petitioner : Mr. Sat Prakash, Advocate.\nFor the Respondents: Mr.Vinod Thakur and Mr.\nSudhir Bhatnagar, Additional\nAdvocate Generals with Mr.\nBhupinder Thakur, Deputy\nAdvocate General, for\nrespondent No.1.\nMr. Rohit, Advocate, for\nrespondent No.2.\nTarlok Singh Chauhan, Judge (Oral).\nThis petition under Section 482 of the Code of Criminal Procedure (for short 'Code') has been\npreferred by the petitioner for quashing of FIR No.7/2016, dated 13.01.2016, registered at Police", {'entities': [(28, 93, 'MainCite'), (94, 123, 'Bench'), (172, 196, 'CaseNo'), (197, 232, 'DOJ'), (233, 260, 'Petitioner'), (268, 324, 'Respondent'), (325, 383, 'Judge')]}), ('Madhya Pradesh High Court\nKailash Singh vs The State Of Madhya Pradesh on 19 March, 2019\n1 Cr.A.No.2596/2008\nCr.A.No.1674/2012\nHIGH COURT OF MADHYA PRADESH, JABALPUR\nDIVISION BENCH: BEFORE HON.SHRI JUSTICE HULUVADI\nG. RAMESH & HON.SHRI JUSTICE B.K.SHRIVASTAVA\nCRIMINAL APPEAL NO.2596 OF 2008\nRajesh Kumar\nVs.\nState of Madhya Pradesh\nCRIMINAL APPEAL NO.1674 OF 2012\nKailash Singh\nVs.\nState of Madhya Pradesh\nShri S. K. Gangrade counsel for the appellant in Cr.A. No. 2596/2008.\nShri Ravikant Patidar, Government Advocate for the respondent/State.\nShri Abhay Gupta, counsel for the appellant in Cr.A. No. 1674/2012.\nShri Ravikant Patidar, Government Advocate for the\nrespondent/State.', {'entities': [(26, 88, 'MainCite'), (91, 108, 'CaseNo'), (109, 126, 'CaseNo'), (292, 332, 'MainCite'), (365, 406, 'MainCite'), (174, 259, 'Bench')]}), ("Gauhati High Court\nDirector C.B.I vs Sh Bhagya Kalita And Anr on 19 March, 2019\nPage No.# 1/11\nGAHC010117902018\nTHE GAUHATI HIGH COURT\n(HIGH COURT OF ASSAM, NAGALAND, MIZORAM AND ARUNACHAL PRADESH)\nCase No. : I.A.(Crl.) 420/2018\nIn\nCrl. Appl. No.3049/2018\n1:DIRECTOR C.B.I.\nTHROUGH THE D.I.G. AND HEAD OF BRANCH SPECIAL CRIME BRANCH\n,HAVING OFFICE AT 2ND FLOOR, A WING, DF BLOCK ,SALT LAKE,\nKOLKTA 700064, WEST BENGAL.\nVERSUS\n1:SH BHAGYA KALITA AND ANR\nS/O SH BHARAT KALITA , PIYALI PHUKAN ROAD ,REHABARI, PS, PALTAN\nBAZAR, GUWAHATIPIN. 781008\n2:MD FATIUR ALI\nS/O SAYED SAHABUDDIN ALI\nVILL. GHILABARI\nP.S. BOKO DIST. KAMRUP\nASSAM PIN .78100\nAdvocate for the Petitioner : MR. S C KEYAL\nAdvocate for the Respondent : MR. A K BHATTACHARYYA (R1)\nPage No.# 2/11 BEFORE HON'BLE MR. JUSTICE MANASH RANJAN PATHAK HON'BLE MR.\nJUSTICE SONGKHUPCHUNG SERTO Dates of Hearing : 14-03-2019 & 15-03-2019 Date of\nJudgment : 19-03-2019 JUDGMENT & ORDER (S. Serto, J) Heard Mr. Subhash Chandra Keyal,\nlearned standing counsel for the applicant CBI. Also heard Mr. Anil Kumar Bhattacharyya, learned\nSenior counsel assisted by Mr. Binod Kumar Singh, learned counsel for the respondent No. 1 and\nMr. Dinesh Kumar Mishra, learned Senior counsel assisted by Mr. Arinjoi Sandilya, learned counsel\nfor the respondent No. 2.\n2) By this application under Section 5 of the Limitation Act, 1963, the applicant CBI has prayed for\ncondoning the delay of 184 days in filing the connected appeal against the acquittal judgment and\norder dated 22.08.2017, passed by learned Additional Sessions Judge No.2, Kamrup (Metro),\nGuwahati, in Sessions Case No. 9/1999 arising out of CBI Case No. RC-9/S/95-Kol, whereby the\nrespondent No. 1 was acquitted from the charge under Section 302 of the IPC and the respondent\nNo. 2 was acquitted from the charges under Section 302/114 IPC. Both the respondents have filed", {'entities': [(19, 79, 'MainCite'), (198, 228, 'MainCite'), (232, 255, 'MainCite'), (757, 844, 'Judge'), (888, 917, 'DOJ')]}), ("Punjab-Haryana High Court\nState Of Haryana vs Padam @ Parmod & Ors on 19 March, 2019\nMRC No.2 of 2016 and other appeals -1-\nIN THE HIGH COURT OF PUNJAB AND HARYANA AT\nCHANDIGARH\nDate of decision: March 19, 2019\nMRC No.2 of 2016\nState of Haryana\n......Appellant\nVersus\nPadam @ Parmod and others\n....Respondents\nCRA-D-90-DB of 2016 (O&M)\nSunil @ Mada\n......Appellant\nVersus\nState of Haryana\n....Respondent\nCRA-D-91-DB of 2016 (O&M)\nSunil @ Sheela\n......Appellant\nVersus\nState of Haryana\n....Respondent\nCRA-D-99-DB of 2016 (O&M)\nSarvar @ Billu and another\n......Appellants\nVersus\nState of Haryana\n....Respondent\nCRA-D-107-DB of 2016 (O&M)\nPadam @ Parmod\n......Appellant\nVersus\nState of Haryana\n....Respondent\nCRA-D-108-DB of 2016 (O&M)\nManbir @ Manni\n......Appellant\nVersus\nState of Haryana\n....Respondent\nCRA-D-187-DB of 2016 (O&M)\nRajesh @ Ghochru\n......Appellant\nVersus\nState of Haryana\n....Respondent\nState Of Haryana vs Padam @ Parmod & Ors on 19 March, 2019\nIndian Kanoon - http://indiankanoon.org/doc/153300644/ 1\n1 of 77\n::: Downloaded on - 24-03-2019 19:42:18 :::\nMRC No.2 of 2016 and other appeals -2-\nCORAM: HON'BLE MR. JUSTICE A.B. CHAUDHARI\nHON'BLE MR. JUSTICE SURINDER GUPTA\nPresent: Mr. Deepak Sabharwal, Addl. AG, Haryana.\nMr. Vinod Ghai, Senior Advocate with\nMs. Kanika Ahuja, Advocate for the convict-Sunil @ Mada.\nMr. N. S. Shekhawat, Advocate for convict-Sarvar @ Billu.\nMr. Rajiv Vij, Legal Aid Counsel\nfor convict-Rajesh @ Ghochru.\nMr. Pradeep Virk, Advocate\nfor the convicts-Padam @ Parmod and Manbir @ Manni.\nMr. Arun Sharma, Advocate for convict-Sunil @ Sheela.", {'entities': [(26, 84, 'MainCite'), (228, 260, 'Petitioner'), (268, 309, 'Respondent'), (310, 335, 'CaseNo'), (336, 364, 'Petitioner'), (430, 460, 'Petitioner'), (526, 569, 'Petitioner'), (636, 673, 'Petitioner'), (733, 763, 'Petitioner'), (830, 862, 'Petitioner'), (372, 403, 'Respondent'), (468, 499, 'Respondent'), (577, 608, 'Respondent'), (674, 705, 'Respondent'), (771, 802, 'Respondent'), (870, 901, 'Respondent'), (902, 960, 'MainCite'), (803, 829, 'CaseNo'), (609, 635, 'CaseNo'), (706, 732, 'CaseNo'), (500, 525, 'CaseNo'), (404, 429, 'CaseNo'), (1109, 1185, 'Judge'), (178, 210, 'DOJ')]}), ('Madhya Pradesh High Court\nKamlesh Gurjar vs The State Of Madhya Pradesh on 20 March, 2019\n1\nHIGH COURT OF MADHYA PRADESH : BENCH AT INDORE\nM.Cr.C. No.10345 of 2019\nKamlesh Gurjar Vs. State of M.P.\nMiscellaneous Criminal Case No.10345 of 2019\nIndore, Dated:- 20/03/2010\nShri Gaurav Singh Chauhan, learned counsel for the\npetitioner--Kamlesh Gurjar S/o Satpal Gurjar.\nShri R. S. Darbar, learned counsel for the\nrespondent/State.\nShri Ravi Verma, learned counsel for the objector.\n1. The petitioner, who apprehends arrest for the offences\npunishable under Sections 307/34 of IPC, in Crime No.67 of\n2019, registered at Police Station Deopalpur, Indore has moved\nthis petition for granting bail in anticipation of arrest.', {'entities': [(26, 89, 'MainCite'), (139, 163, 'CaseNo')]}), ("Allahabad High Court\nMost Rev. Prof. Rajendra Bihari ... vs State Of U.P. And Anr on 15 March, 2019\nBench: J.J. Munir\nHIGH COURT OF JUDICATURE AT ALLAHABAD\nA.F.R.\nReserved\nCourt No. -7\nCase :- APPLICATION U/S 482 No. - 27322 of 2018\nApplicant :- Most Rev. Prof. Rajendra Bihari Lal\nOpposite Party :- State Of U.P. And Anr\nCounsel for Applicant :- Samit Gopal,Sri G.S. Chaturvedi (Senior Advocate)\nCounsel for Opposite Party :- G.A.,Shad Khan\nHon'ble J.J. Munir,J.", {'entities': [(21, 99, 'MainCite'), (100, 117, 'Bench'), (185, 232, 'CaseNo'), (442, 463, 'Judge')]})]



@plac.annotations(
    model=("Model name. Defaults to blank 'en' model.", "option", "m", str),
    new_model_name=("New model name for model meta.", "option", "nm", str),
    output_dir=("Optional output directory", "option", "o", Path),
    n_iter=("Number of training iterations", "option", "n", int),
)
def main(model=None, new_model_name="judgement_annot_14j_mini", output_dir= "C:\\Users\\pranj\\Desktop\\FM_trials\\judgement_annot_14j_mini", n_iter=30):
    """Set up the pipeline and entity recognizer, and train the new entity."""
    random.seed(0)
    if model is not None:
        nlp = spacy.load(model)  # load existing spaCy model
        print("Loaded model '%s'" % model)
    else:
        nlp = spacy.blank("en")  # create blank Language class
        print("Created blank 'en' model")
    # Add entity recognizer to model if it's not in the pipeline
    # nlp.create_pipe works for built-ins that are registered with spaCy
    if "ner" not in nlp.pipe_names:
        ner = nlp.create_pipe("ner")
        nlp.add_pipe(ner)
    # otherwise, get it, so we can add labels to it
    else:
        ner = nlp.get_pipe("ner")

    ner.add_label(Author)  # add new entity label to entity recognizer
    # Adding extraneous labels shouldn't mess anything up
    ner.add_label(Respondent)
    ner.add_label(DOJ)
    #ner.add_label(DOJR)
    #ner.add_label(DOJD)
    ner.add_label(Judge)
    #ner.add_label(ThroughLawyer)
    ner.add_label(Petitioner)
    ner.add_label(CaseNo)
    ner.add_label(Bench)
    ner.add_label(MainCite)
    #ner.add_label(RespAdvocate)
    #ner.add_label(PetAdvocate)

    if model is None:
        optimizer = nlp.begin_training()
    else:
        optimizer = nlp.resume_training()
    move_names = list(ner.move_names)
    # get names of other pipes to disable them during training
    other_pipes = [pipe for pipe in nlp.pipe_names if pipe != "ner"]
    with nlp.disable_pipes(*other_pipes):  # only train NER
        sizes = compounding(1.0, 4.0, 1.001)
        # batch up the examples using spaCy's minibatch
        for itn in range(n_iter):
            random.shuffle(TRAIN_DATA)
            batches = minibatch(TRAIN_DATA, size=sizes)
            losses = {}
            for batch in batches:
                texts, annotations = zip(*batch)
                nlp.update(texts, annotations, sgd=optimizer, drop=0.35, losses=losses)
            print("Losses", losses)

    # test the trained model
    test_text = "Do you like horses?"
    doc = nlp(test_text)
    print("Entities in '%s'" % test_text)
    for ent in doc.ents:
        print(ent.label_, ent.text)

    # save model to output directory
    if output_dir is not None:
        output_dir = Path(output_dir)
        if not output_dir.exists():
            output_dir.mkdir()
        nlp.meta["name"] = new_model_name  # rename model
        nlp.to_disk(output_dir)
        print("Saved model to", output_dir)

        # test the saved model
        print("Loading from", output_dir)
        nlp2 = spacy.load(output_dir)
        # Check the classes have loaded back consistently
        assert nlp2.get_pipe("ner").move_names == move_names
        doc2 = nlp2(test_text)
        for ent in doc2.ents:
            print(ent.label_, ent.text)


if __name__ == "__main__":
    plac.call(main)
